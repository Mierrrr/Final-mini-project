<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resources - Disaster Relief System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a1828 0%, #1a3a52 100%);
            color: #ffffff;
            min-height: 100vh;
        }

        .navbar {
            background: rgba(10, 24, 40, 0.95);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 188, 212, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00bcd4;
        }

        .nav-right {
            display: flex;
            gap: 1.5rem;
        }

        .nav-right a {
            color: #ffffff;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .nav-right a:hover {
            background: rgba(0, 188, 212, 0.2);
            color: #00bcd4;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-header {
            margin-bottom: 2rem;
        }

        .page-header h1 {
            font-size: 2.5rem;
            color: #00bcd4;
            margin-bottom: 0.5rem;
        }

        .page-header p {
            color: #b0bec5;
        }

        .action-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .search-box {
            display: flex;
            gap: 1rem;
            flex: 1;
            max-width: 500px;
        }

        .search-box input {
            flex: 1;
            padding: 0.8rem 1rem;
            border: 1px solid rgba(0, 188, 212, 0.3);
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }

        .search-box input:focus {
            outline: none;
            border-color: #00bcd4;
        }

        .btn-primary {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(135deg, #00bcd4, #0097a7);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 188, 212, 0.5);
        }

        .filter-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-tab {
            padding: 0.7rem 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 188, 212, 0.3);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-tab.active {
            background: linear-gradient(135deg, #00bcd4, #0097a7);
            border-color: #00bcd4;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .resource-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 15px;
            border: 1px solid rgba(0, 188, 212, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }

        .resource-card:hover {
            transform: translateY(-5px);
            border-color: #00bcd4;
            box-shadow: 0 10px 30px rgba(0, 188, 212, 0.3);
        }

        .resource-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .resource-icon {
            font-size: 2.5rem;
        }

        .resource-category {
            padding: 0.3rem 0.8rem;
            background: rgba(0, 188, 212, 0.2);
            border-radius: 15px;
            font-size: 0.85rem;
            color: #00bcd4;
        }

        .resource-name {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #00bcd4;
        }

        .resource-details {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .resource-detail {
            display: flex;
            justify-content: space-between;
            color: #b0bec5;
            font-size: 0.95rem;
        }

        .resource-quantity {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00bcd4;
            margin: 1rem 0;
        }

        .resource-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-action {
            flex: 1;
            padding: 0.6rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-allocate {
            background: linear-gradient(135deg, #00bcd4, #0097a7);
            color: white;
        }

        .btn-edit {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid #ffc107;
        }

        .btn-action:hover {
            transform: scale(1.05);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: #0a1828;
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(0, 188, 212, 0.3);
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h3 {
            color: #00bcd4;
            font-size: 1.5rem;
        }

        .close-btn {
            background: none;
            border: none;
            color: #00bcd4;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #00bcd4;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid rgba(0, 188, 212, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #00bcd4;
        }

        .form-group select option {
            background: #0a1828;
        }

        @media (max-width: 768px) {
            .resources-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">üì¶ Resources</div>
        <div class="nav-right">
            <a href="dashboard.html">Dashboard</a>
            <a href="index.html">Logout</a>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1>Resource Management</h1>
            <p>Manage and allocate resources for disaster relief</p>
        </div>

        <div class="action-bar">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search resources...">
            </div>
            <button class="btn-primary" onclick="openModal('addResourceModal')">‚ûï Add Resource</button>
        </div>

        <div class="filter-tabs">
            <div class="filter-tab active" onclick="filterResources('All')">All</div>
            <div class="filter-tab" onclick="filterResources('Food')">üçΩÔ∏è Food</div>
            <div class="filter-tab" onclick="filterResources('Water')">üíß Water</div>
            <div class="filter-tab" onclick="filterResources('Medicine')">üíä Medicine</div>
            <div class="filter-tab" onclick="filterResources('Shelter')">üè† Shelter</div>
            <div class="filter-tab" onclick="filterResources('Clothing')">üëï Clothing</div>
        </div>

        <div class="resources-grid" id="resourcesGrid">
            <!-- Resources will be loaded here -->
        </div>
    </div>

    <!-- Add Resource Modal -->
    <div id="addResourceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Resource</h3>
                <button class="close-btn" onclick="closeModal('addResourceModal')">&times;</button>
            </div>
            <form action="AddResourceServlet" method="POST" id="addResourceForm">
<label for="resourceQuantity">Quantity *</label>
                    <input type="number" id="resourceQuantity" name="quantity" min="0" required>
                </div>
                <div class="form-group">
                    <label for="resourceUnit">Unit *</label>
                    <input type="text" id="resourceUnit" name="unit" placeholder="e.g., units, kg, liters" required>
                </div>
                <div class="form-group">
                    <label for="resourceLocation">Location *</label>
                    <input type="text" id="resourceLocation" name="location" required>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Add Resource</button>
            </form>
        </div>
    </div>

    <!-- Allocate Resource Modal -->
    <div id="allocateModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Allocate Resource</h3>
                <button class="close-btn" onclick="closeModal('allocateModal')">&times;</button>
            </div>
            <form action="AllocateResourceServlet" method="POST" id="allocateForm">
                <input type="hidden" id="allocateResourceId" name="resource_id">
                <div class="form-group">
                    <label>Resource: <span id="allocateResourceName" style="color: white;"></span></label>
                    <label>Available: <span id="allocateResourceQty" style="color: #00bcd4;"></span></label>
                </div>
                <div class="form-group">
                    <label for="allocateDisaster">Disaster *</label>
                    <select id="allocateDisaster" name="disaster_id" required>
                        <option value="">Select Disaster</option>
                        <option value="1">Flood in Kerala</option>
                        <option value="2">Earthquake Mumbai</option>
                        <option value="3">Cyclone Orissa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="allocateVolunteer">Volunteer</label>
                    <select id="allocateVolunteer" name="volunteer_id">
                        <option value="">Select Volunteer (Optional)</option>
                        <option value="2">Neha Sharma</option>
                        <option value="5">Rajesh Kumar</option>
                        <option value="8">Priya Singh</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="allocateNGO">NGO</label>
                    <select id="allocateNGO" name="ngo_id">
                        <option value="">Select NGO (Optional)</option>
                        <option value="1">HelpIndia</option>
                        <option value="2">Relief Foundation</option>
                        <option value="3">Care India</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="allocateQuantity">Quantity to Allocate *</label>
                    <input type="number" id="allocateQuantity" name="quantity" min="1" required>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Allocate Resource</button>
            </form>
        </div>
    </div>

    <script>
        const resources = [
            { id: 1, name: 'Food Packets', category: 'Food', quantity: 500, unit: 'units', location: 'Cochin', icon: 'üçΩÔ∏è' },
            { id: 2, name: 'Water Bottles', category: 'Water', quantity: 1000, unit: 'bottles', location: 'Thrissur', icon: 'üíß' },
            { id: 3, name: 'Medical Kits', category: 'Medicine', quantity: 150, unit: 'kits', location: 'Kochi', icon: 'üíä' },
            { id: 4, name: 'Tents', category: 'Shelter', quantity: 75, unit: 'units', location: 'Kerala', icon: 'üèïÔ∏è' },
            { id: 5, name: 'Blankets', category: 'Clothing', quantity: 300, unit: 'units', location: 'Mumbai', icon: 'üõèÔ∏è' },
            { id: 6, name: 'Rice Bags', category: 'Food', quantity: 200, unit: 'bags', location: 'Delhi', icon: 'üçö' },
            { id: 7, name: 'First Aid Supplies', category: 'Medicine', quantity: 250, unit: 'kits', location: 'Bangalore', icon: 'ü©π' },
            { id: 8, name: 'Clothes', category: 'Clothing', quantity: 500, unit: 'pieces', location: 'Chennai', icon: 'üëï' }
        ];

        let currentFilter = 'All';

        function displayResources(filter = 'All') {
            const grid = document.getElementById('resourcesGrid');
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            const filtered = resources.filter(resource => {
                const matchesFilter = filter === 'All' || resource.category === filter;
                const matchesSearch = resource.name.toLowerCase().includes(searchTerm) || 
                                    resource.location.toLowerCase().includes(searchTerm);
                return matchesFilter && matchesSearch;
            });

            grid.innerHTML = filtered.map(resource => `
                <div class="resource-card" data-category="${resource.category}">
                    <div class="resource-header">
                        <div class="resource-icon">${resource.icon}</div>
                        <div class="resource-category">${resource.category}</div>
                    </div>
                    <div class="resource-name">${resource.name}</div>
                    <div class="resource-details">
                        <div class="resource-detail">
                            <span>Location:</span>
                            <span>${resource.location}</span>
                        </div>
                        <div class="resource-detail">
                            <span>Unit:</span>
                            <span>${resource.unit}</span>
                        </div>
                    </div>
                    <div class="resource-quantity">${resource.quantity} ${resource.unit}</div>
                    <div class="resource-actions">
                        <button class="btn-action btn-allocate" onclick="openAllocateModal(${resource.id}, '${resource.name}', ${resource.quantity}, '${resource.unit}')">
                            Allocate
                        </button>
                        <button class="btn-action btn-edit">Edit</button>
                    </div>
                </div>
            `).join('');
        }

        function filterResources(category) {
            currentFilter = category;
            
            // Update active tab
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            displayResources(category);
        }

        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function openAllocateModal(id, name, quantity, unit) {
            document.getElementById('allocateResourceId').value = id;
            document.getElementById('allocateResourceName').textContent = name;
            document.getElementById('allocateResourceQty').textContent = `${quantity} ${unit}`;
            document.getElementById('allocateQuantity').max = quantity;
            openModal('allocateModal');
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function() {
            displayResources(currentFilter);
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }

        // Form validation
        document.getElementById('allocateForm').addEventListener('submit', function(e) {
            const quantity = parseInt(document.getElementById('allocateQuantity').value);
            const maxQty = parseInt(document.getElementById('allocateQuantity').max);
            
            if (quantity > maxQty) {
                e.preventDefault();
                alert(`Cannot allocate more than ${maxQty} units`);
            }
        });

        // Initialize
        displayResources();
    </script>
</body>
</html><label for="resourceName">Resource Name *</label>
                    <input type="text" id="resourceName" name="name" required>
                </div>
                <div class="form-group">
                    <label for="resourceCategory">Category *</label>
                    <select id="resourceCategory" name="category" required>
                        <option value="Food">Food</option>
                        <option value="Water">Water</option>
                        <option value="Medicine">Medicine</option>
                        <option value="Shelter">Shelter</option>
                        <option value="Clothing">Clothing</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    